# AI Crawler Assistant - 项目概述

## 项目简介
AI爬虫助手是一款智能化的网页数据提取工具，专门用于获取招聘网站的最新职位信息。通过AI技术自动识别页面元素选择器，实现对不同招聘网站的自适应爬取。

## 核心功能

### 1. URL分析与页面理解
- 接收用户提供的职位列表页面URL
- 使用AI技术分析页面结构
- 自动识别关键元素的CSS选择器

### 2. 智能选择器提取
系统将自动提取以下元素的CSS选择器：
```json
{
  "selectors": {
    "jobList": "用于定位职位列表的CSS选择器",
    "jobItem": "用于定位职位项的CSS选择器，相对jobList容器",
    "jobTitle": "用于定位职位标题的CSS选择器，相对jobItem为容器",
    "jobLink": "用于定位职位详情链接的CSS选择器，相对jobItem为容器",
    "companyName": "用于定位公司名称的CSS选择器，相对jobItem为容器",
    "publishedAt": "用于定位职位发布时间的CSS选择器，相对jobItem为容器",
    "location": "用于定位职位地点的CSS选择器，相对jobItem为容器",
    "jobDescription": "用于定位职位描述的CSS选择器，相对jobItem为容器",
    "nextPage": "用于定位下一页的CSS选择器"
  }
}
```

### 3. 数据爬取与处理
- 使用browser-use作为浏览器代理
- 支持多页面自动翻页
- 数据清洗和标准化
- 结构化数据输出

## 技术栈

### 后端核心
- **Python 3.11+**: 主要开发语言
- **FastAPI**: Web框架，提供REST API
- **browser-use**: 浏览器自动化代理
- **BeautifulSoup4**: HTML解析
- **Pydantic**: 数据验证和序列化

### AI/ML组件
- **OpenAI GPT-4**: 页面结构分析和选择器生成
- **LangChain**: AI工作流编排
- **Computer Vision**: 页面元素识别（可选）

### 数据存储
- **SQLite/PostgreSQL**: 结构化数据存储
- **Redis**: 缓存和会话管理
- **JSON**: 配置文件和临时数据

### 前端（可选）
- **Streamlit**: 快速原型界面
- **React + TypeScript**: 完整Web界面（未来扩展）

## 系统架构特点

### 1. 模块化设计
- 页面分析模块
- 选择器提取模块
- 数据爬取模块
- 数据处理模块
- API服务模块

### 2. AI驱动
- 智能识别页面结构
- 自适应不同网站布局
- 自动优化选择器准确性

### 3. 可扩展性
- 支持多种招聘网站
- 插件化架构
- 配置驱动的爬取策略

### 4. 稳定性
- 错误处理和重试机制
- 反爬虫策略
- 数据一致性保证

## 用户使用流程

1. **输入URL**: 用户提供招聘网站的职位列表页面URL
2. **AI分析**: 系统使用AI分析页面结构，识别关键元素
3. **选择器生成**: 自动生成准确的CSS选择器配置
4. **确认配置**: 用户可以验证和调整选择器配置
5. **开始爬取**: 系统使用browser-use进行数据爬取
6. **数据导出**: 提供多种格式的数据导出（JSON、CSV、Excel）

## 预期输出

### 数据格式
```json
{
  "timestamp": "2025-01-01T00:00:00Z",
  "source_url": "https://example.com/jobs",
  "total_jobs": 50,
  "jobs": [
    {
      "title": "软件工程师",
      "link": "https://example.com/job/123",
      "company": "科技公司",
      "location": "北京",
      "published_at": "2025-01-01",
      "description": "职位描述..."
    }
  ],
  "pagination": {
    "current_page": 1,
    "total_pages": 10,
    "has_next": true
  }
}
```

## 技术挑战与解决方案

### 1. 页面结构多样性
- **挑战**: 不同网站的HTML结构差异很大
- **解决方案**: 使用AI进行智能识别，建立通用的页面理解模型

### 2. 反爬虫机制
- **挑战**: 网站可能有反爬虫保护
- **解决方案**: 使用browser-use模拟真实用户行为，配合代理和延迟策略

### 3. 动态内容加载
- **挑战**: JavaScript动态加载的内容
- **解决方案**: browser-use支持JavaScript渲染，等待动态内容加载完成

### 4. 选择器准确性
- **挑战**: 自动生成的选择器可能不够准确
- **解决方案**: 多重验证机制，用户反馈学习，持续优化算法

## 部署方案

### 开发环境
- Docker容器化部署
- 本地开发调试

### 生产环境
- 云服务器部署（阿里云/腾讯云）
- Docker + Kubernetes
- 负载均衡和自动扩缩容

## 扩展计划

1. **多语言支持**: 支持国际招聘网站
2. **实时监控**: 职位变化实时通知
3. **数据分析**: 招聘趋势分析和可视化
4. **API生态**: 开放API供第三方集成
5. **移动端**: 开发移动应用
